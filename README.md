# NapCat Pixiv æ’ä»¶

åŸºäº NapCat çš„ Pixiv æ’ç”»æœç´¢ä¸æ¨èæ’ä»¶ï¼Œæ”¯æŒåˆå¹¶è½¬å‘æ¶ˆæ¯å‘é€ã€‚

## âœ¨ åŠŸèƒ½

- **å…³é”®è¯æœç´¢** â€” `#pç«™ å…³é”®è¯`ï¼Œæœç´¢ Pixiv æ’ç”»å¹¶è¿”å› 3 å¼ ç»“æœ
- **éšæœºæ¨è** â€” `#pç«™`ï¼Œè·å– Pixiv ä¸ªæ€§åŒ–æ¨èçš„ 3 å¼ æ’ç”»
- **åˆå¹¶è½¬å‘** â€” æœç´¢ç»“æœä»¥åˆå¹¶è½¬å‘æ¶ˆæ¯å‘é€ï¼ŒåŒ…å«å›¾ç‰‡ã€æ ‡é¢˜ã€ä½œè€…å’Œ ID
- **R-18 è¿‡æ»¤** â€” å¯é…ç½®æ˜¯å¦å…è®¸ R-18 å†…å®¹
- **åŒç¾¤å†·å´** â€” åŒä¸€ç¾¤å†…æ‰€æœ‰å‘½ä»¤å…±äº«å†·å´æ—¶é—´ï¼Œé˜²æ­¢åˆ·å±
- **WebUI ç®¡ç†** â€” å†…ç½® Web æ§åˆ¶é¢æ¿ï¼Œæ”¯æŒåœ¨çº¿é…ç½®å’Œç¾¤ç®¡ç†

## ğŸ“‹ å‘½ä»¤åˆ—è¡¨

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `#pç«™` | éšæœºæ¨è 3 å¼  Pixiv æ’ç”» |
| `#pç«™ å…³é”®è¯` | æœç´¢å…³é”®è¯å¹¶è¿”å› 3 å¼ æ’ç”» |
| `#help` | æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ |
| `#ping` | æµ‹è¯•è¿é€šæ€§ |
| `#status` | æŸ¥çœ‹è¿è¡ŒçŠ¶æ€ |

> å‘½ä»¤å‰ç¼€ `#` å¯åœ¨ WebUI ä¸­è‡ªå®šä¹‰ã€‚

## âš™ï¸ é…ç½®

### å¿…è¦é…ç½®

| é…ç½®é¡¹ | è¯´æ˜ |
|--------|------|
| Pixiv Refresh Token | Pixiv API è®¤è¯ä»¤ç‰Œï¼ˆå¿…å¡«ï¼‰ |

### å¯é€‰é…ç½®

| é…ç½®é¡¹ | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|--------|------|
| å¯ç”¨æ’ä»¶ | `true` | å…¨å±€å¼€å…³ |
| è°ƒè¯•æ¨¡å¼ | `false` | è¾“å‡ºè¯¦ç»†æ—¥å¿— |
| å‘½ä»¤å‰ç¼€ | `#` | è§¦å‘å‘½ä»¤çš„å‰ç¼€ |
| å†·å´æ—¶é—´ | `60` ç§’ | åŒç¾¤å‘½ä»¤å†·å´ï¼Œ0 è¡¨ç¤ºä¸é™åˆ¶ |
| R-18 | `false` | æ˜¯å¦å…è®¸ R-18 å†…å®¹ |

æ‰€æœ‰é…ç½®å‡å¯åœ¨ WebUI ä»ªè¡¨ç›˜ä¸­ä¿®æ”¹ï¼Œä¿®æ”¹åç«‹å³ç”Ÿæ•ˆã€‚

## ğŸš€ å®‰è£…

### æ–¹å¼ä¸€ï¼šä» Release å®‰è£…

1. ä» [GitHub Releases](https://github.com/ChaceQC/napcat-plugin-pixiv/releases) ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„ zip åŒ…
2. è§£å‹åˆ° NapCat çš„ `plugins` ç›®å½•
3. é‡æ–°åŠ è½½ NapCat æˆ–é‡å¯

### æ–¹å¼äºŒï¼šæ‰‹åŠ¨æ„å»º

```bash
# å®‰è£…ä¾èµ–
npm install

# æ„å»º
npm run build
```

æ„å»ºäº§ç‰©åœ¨ `dist/` ç›®å½•ä¸‹ï¼Œå°†å…¶å¤åˆ¶åˆ° NapCat çš„æ’ä»¶ç›®å½•å³å¯ã€‚

## ğŸ”§ è·å– Pixiv Refresh Token

å¯ä»¥å‚è€ƒ [pixiv-auth](https://github.com/eggplants/get-pixivpy-token) ç­‰å·¥å…·è·å– Pixiv Refresh Tokenã€‚

## ğŸ“ é¡¹ç›®ç»“æ„

```
napcat-plugin-pixiv/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.ts              # æ’ä»¶å…¥å£
â”‚   â”œâ”€â”€ config.ts             # é…ç½®å®šä¹‰
â”‚   â”œâ”€â”€ types.ts              # TypeScript ç±»å‹
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â””â”€â”€ state.ts          # å…¨å±€çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ handlers/
â”‚   â”‚   â”œâ”€â”€ message-handler.ts # æ¶ˆæ¯å¤„ç†ï¼ˆå‘½ä»¤è§£æã€å†·å´ã€å·¥å…·ï¼‰
â”‚   â”‚   â””â”€â”€ pixiv-handler.ts   # Pixiv å‘½ä»¤å¤„ç†ï¼ˆæœç´¢ã€æ¨èã€è½¬å‘ï¼‰
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â””â”€â”€ pixiv-client.ts    # Pixiv API å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ api-service.ts     # WebUI API è·¯ç”±
â”‚   â”‚   â””â”€â”€ pixiv.service.ts   # Pixiv ä¸šåŠ¡é€»è¾‘
â”‚   â””â”€â”€ webui/                 # React WebUI å‰ç«¯
â”œâ”€â”€ package.json
â”œâ”€â”€ vite.config.ts
â””â”€â”€ README.md
```

## ğŸ“„ è®¸å¯è¯

MIT License
